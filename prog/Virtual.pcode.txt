module Virtual, id=1118032572
implementation
uses System
procedure '@program'
definition
module id 1118032572
id 1
frame size: 2
type
  object type 'Shape'
    virtual
    fields:
      '@vmt' index 0 type 'null'
    methods:
      constructor
      declaration
      parameter 'this' type 'Shape'
      module id 1118032572
      implementation id 2
      frame size: 0

      procedure 'Draw'
      declaration
      virtual
      common name 'Draw'
      parameter 'this' type 'Shape'
      module id 1118032572
      implementation id 3
      frame size: 0

  object type 'Circle'
    virtual
    base type 'Shape'
    fields:
      '@vmt' index 0 type 'null'
    methods:
      constructor
      declaration
      parameter 'this' type 'Circle'
      module id 1118032572
      implementation id 4
      frame size: 0

      procedure 'Draw'
      declaration
      override
      common name 'Draw'
      parameter 'this' type 'Circle'
      module id 1118032572
      implementation id 5
      frame size: 0

var
  's' index 0 type 'Shape'
  'c' index 1 type 'Shape'
procedure 'Shape.Draw'
definition
common name 'Draw'
parameter 'this' index 0 type 'Shape'
module id 1118032572
id 3
frame size: 1
code
  0 : receive(1)
  1 : push_value('Shape.Draw')
  2 : call_stdproc(Writeln, 1)
  3 : nop

procedure 'Circle.Draw'
definition
common name 'Draw'
parameter 'this' index 0 type 'Circle'
module id 1118032572
id 5
frame size: 1
code
  0 : receive(1)
  1 : push_value('Circle.Draw')
  2 : call_stdproc(Writeln, 1)
  3 : nop

constructor
definition
parameter 'this' index 0 type 'Shape'
module id 1118032572
id 2
frame size: 1
code
  0 : receive(1)
  1 : nop

constructor
definition
parameter 'this' index 0 type 'Circle'
module id 1118032572
id 4
frame size: 1
code
  0 : receive(1)
  1 : nop

code
  0 : receive(0)
  1 : new_object(Shape)
  2 : call_ctor(1118032572, 2)
  3 : store_local(0)
  4 : load_local(0)
  5 : load_local(0)
  6 : call_virtual(0)
  7 : new_object(Circle)
  8 : call_ctor(1118032572, 4)
  9 : store_local(1)
  10 : load_local(1)
  11 : load_local(1)
  12 : call_virtual(0)
  13 : nop

